---
layout: default
---

<!-- Header Navigation -->
<header class="main-header">
    <div class="header-container">
        <div class="header-logo">
            <span class="logo-text">Clarion</span>
        </div>
        <nav class="header-nav">
            <a href="#features" class="nav-link">Features</a>
            <a href="#about" class="nav-link">About</a>
            <a href="#contact" class="nav-link">Contact</a>
            <a href="#demo" class="nav-link demo-link">Demo</a>
        </nav>
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>

<style>
.cta-card:hover {
    transform: translateY(-2px); /* More subtle lift */
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); /* Lighter shadow */
    background: rgba(255, 255, 255, 0.12) !important; /* More subtle background change */
    border-color: rgba(255, 255, 255, 0.25) !important; /* More subtle border change */
}
</style>

    <!-- Hero Section with Clarion Logo Centerpiece -->
    <section class="intelligence-hub-hero">
        <!-- Clean Background with Subtle Depth -->
        <div class="hero-background">
            <div class="floating-particles">
                <!-- Minimal animated particles for atmospheric depth -->
            </div>
            <div class="grid-overlay"></div>
        </div>


        
        <!-- Clarion Logo Centerpiece -->
        <div class="clarion-hero-content">
        <!-- Main Clarion Logo -->
        <div class="clarion-logo-container">
            <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 402.77 267.71">
      <defs>
        <style>
          .cls-1 {
            fill: url(#radial-gradient-3);
          }

          .cls-1, .cls-2, .cls-3, .cls-4, .cls-5, .cls-6, .cls-7, .cls-8 {
            stroke: none;
          }

          .cls-1, .cls-2, .cls-3, .cls-4, .cls-5, .cls-6, .cls-8 {
            stroke-width: 0px;
          }

          .cls-9 {
            letter-spacing: 0em;
          }

          .cls-2 {
            fill: url(#radial-gradient-8);
          }

          .cls-3 {
            fill: url(#radial-gradient-6);
          }

          .cls-10 {
            stroke: url(#linear-gradient-4);
          }

          .cls-10, .cls-11, .cls-12, .cls-13, .cls-14, .cls-15, .cls-16, .cls-17, .cls-18, .cls-19, .cls-20 {
            fill: none;
            stroke-width: 2.5px;
          }

          .cls-11 {
            stroke: url(#linear-gradient-7);
          }

          .cls-12 {
            stroke: url(#linear-gradient-6);
          }

          .cls-21 {
            font-size: 101.85px;
          }

          .cls-21, .cls-22 {
            font-family: Bahnschrift, Bahnschrift;
            font-variation-settings: 'wght' 400, 'wdth' 100;
          }

          .cls-13 {
            stroke: url(#linear-gradient-2);
          }

          .cls-14 {
            stroke: url(#linear-gradient-10);
          }

          .cls-22 {
            font-size: 21px;
          }

          .cls-15 {
            stroke: url(#linear-gradient-8);
          }

          .cls-16 {
            stroke: url(#linear-gradient-5);
          }

          .cls-4 {
            fill: url(#radial-gradient-2);
          }

          .cls-5 {
            fill: url(#radial-gradient-4);
          }

          .cls-6 {
            fill: url(#radial-gradient);
          }

          .cls-17 {
            stroke: url(#linear-gradient-11);
          }

          .cls-23 {
            letter-spacing: -.01em;
          }

          .cls-18 {
            stroke: url(#linear-gradient);
          }

          .cls-7 {
            fill: url(#radial-gradient-7);
            stroke: none;
            stroke-width: 0px;
          }

          .cls-8 {
            fill: url(#radial-gradient-5);
          }

          .cls-19 {
            stroke: url(#linear-gradient-3);
          }

          .cls-20 {
            stroke: url(#linear-gradient-9);
          }
        </style>
        <linearGradient id="linear-gradient" x1="-428.84" y1="602.24" x2="-427.61" y2="601.02" gradientTransform="translate(33621.55 -13828.7) scale(78.19 23.06)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-2" x1="-425.75" y1="602.58" x2="-423.15" y2="599.98" gradientTransform="translate(21395.48 12060.87) scale(50 -20)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-3" x1="-439.57" y1="599.25" x2="-421.12" y2="580.81" gradientTransform="translate(79161.78 579.6) scale(183.13 -.69)" xlink:href="#linear-gradient-2"/>
        <linearGradient id="linear-gradient-4" x1="-431.08" y1="614.77" x2="-429.13" y2="612.82" gradientTransform="translate(51773.3 33825.67) scale(120 -55)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-5" x1="-430.19" y1="614.23" x2="-429.13" y2="613.17" gradientTransform="translate(51893.3 33880.67) scale(120 -55)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-6" x1="-429.55" y1="617.32" x2="-427.67" y2="615.44" gradientTransform="translate(38771.37 58614) scale(90 -95)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-7" x1="-430.72" y1="612.67" x2="-429.62" y2="611.57" gradientTransform="translate(56237.27 27628.58) scale(130 -45)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-8" x1="-430.65" y1="617.15" x2="-429.59" y2="616.09" gradientTransform="translate(60441.25 58709) scale(140 -95)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-9" x1="-386.46" y1="617.15" x2="-385.44" y2="616.13" gradientTransform="translate(-16737.52 63307.68) rotate(-180) scale(44.33 102.5)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-10" x1="-438.08" y1="589.38" x2="-423.88" y2="575.17" gradientTransform="translate(86673.62 -300.06) scale(200.54 .81)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <linearGradient id="linear-gradient-11" x1="-420.61" y1="612.12" x2="-419.24" y2="610.75" gradientTransform="translate(12677.53 24475.04) scale(30 -40)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#6fa8dc" stop-opacity=".8"/>
          <stop offset="1" stop-color="#4a90e2" stop-opacity=".6"/>
        </linearGradient>
        <radialGradient id="radial-gradient" cx="-414.17" cy="603.41" fx="-414.17" fy="603.41" r=".5" gradientTransform="translate(8323.55 12090.87) scale(20 -20)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-2" cx="-405.91" cy="600.9" fx="-405.91" fy="600.9" r=".5" gradientTransform="translate(7695.76 10960.46) scale(18 -18)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-3" cx="-410.94" cy="603.32" fx="-410.94" fy="603.32" r=".5" gradientTransform="translate(9351.35 13461.29) scale(22 -22)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-4" cx="-406.62" cy="597.78" fx="-406.62" fy="597.78" r=".5" gradientTransform="translate(6617.96 9570.04) scale(16 -16)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-5" cx="-401.44" cy="594.51" fx="-401.44" fy="594.51" r=".5" gradientTransform="translate(5970.17 8379.62) scale(14 -14)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-6" cx="-401.18" cy="604.46" fx="-401.18" fy="604.46" r=".5" gradientTransform="translate(3496.23 5307.98) scale(8.29 -8.53)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-7" cx="-422.47" cy="612.11" fx="-422.47" fy="612.11" r=".5" gradientTransform="translate(18857.09 27030.87) scale(44 -44)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
        <radialGradient id="radial-gradient-8" cx="-413.06" cy="603.95" fx="-413.06" fy="603.95" r=".5" gradientTransform="translate(10139.14 14551.71) scale(24 -24)" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#4a90e2"/>
          <stop offset=".7" stop-color="#357abd"/>
          <stop offset="1" stop-color="#2c5f94"/>
        </radialGradient>
      </defs>
      
      <!-- Text elements will be moved to front by JavaScript -->
      <text class="cls-21" transform="translate(0 132.33) scale(1.14 1)"><tspan x="0" y="0">C</tspan><tspan class="cls-9" x="63.01" y="0">l</tspan><tspan x="92" y="0">arion</tspan></text>
      <text class="cls-22" transform="translate(280 157)" text-anchor="middle"><tspan x="0" y="0">context engine</tspan></text>
      <text/>
    </svg>
                </div>
        
        </div>
        
        <!-- Hero Tagline -->
        <div class="hero-tagline">
            <h2>Graph powered context ecosystem for Water Utility digital transformation</h2>
        </div>
        
        <!-- ICP CTAs - Clean Design -->
        <div class="icp-ctas">
            <div class="cta-grid">
                
                <!-- Managers & Operators CTA -->
                <a href="ICP_Pages/managers.html" class="cta-card">
                    <div>üìä</div>
                    <div class="cta-text">
                        <h3>Managers & Operators</h3>
                        <p>Optimize operations</p>
                    </div>
                </a>
                
                <!-- Engineers CTA -->
                <a href="ICP_Pages/engineers.html" class="cta-card">
                    <div>üîß</div>
                    <div class="cta-text">
                        <h3>Engineers</h3>
                        <p>Living master plans</p>
                    </div>
                </a>
                
                <!-- GIS Experts CTA -->
                <a href="ICP_Pages/gis_experts.html" class="cta-card">
                    <div>üó∫Ô∏è</div>
                    <div class="cta-text">
                        <h3>GIS Experts</h3>
                        <p>Intelligent GIS</p>
                    </div>
                </a>
                
            </div>
        </div>
    </section>

<!-- The rest of the homepage is intentionally left blank for new concept development. -->

<!-- Load D3.js -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<script>
// Neural network animated logo with D3.js breathing animation
document.addEventListener('DOMContentLoaded', function() {
    const textElement = document.querySelector('.cls-22');
    const svgContainer = document.querySelector('.clarion-logo-container svg');
    const phrases = [
        'context engine',
        'knowledge retention',
        'asset management',
        'digital twin'
    ];
    
    // Define wave propagation targets for each phrase
    const waveTargets = {
        'context engine': {
            targets: ['.cls-6', '.cls-5', '.cls-2'], // Top three nodes
            color: 'context-engine'
        },
        'knowledge retention': {
            targets: ['.cls-6', '.cls-5', '.cls-2'], // Top three nodes
            color: 'knowledge-retention'
        },
        'asset management': {
            targets: ['.cls-6', '.cls-5', '.cls-2'], // Top three nodes
            color: 'asset-management'
        },
        'digital twin': {
            targets: ['.cls-6', '.cls-5', '.cls-2'], // Top three nodes
            color: 'digital-twin'
        }
    };
    
    // Node data with original positions and breathing parameters
    const nodes = [
        { id: 'node-6', x: 44.19, y: 26.75, r: 10, class: 'cls-6', breathingPhase: 0 },
        { id: 'node-5', x: 115.19, y: 8.75, r: 8, class: 'cls-5', breathingPhase: 0.2 },
        { id: 'node-2', x: 230.52, y: 61.75, r: 12, class: 'cls-2', breathingPhase: 0.4 },
        { id: 'node-4', x: 393.02, y: 147.83, r: 9, class: 'cls-4', breathingPhase: 0.6 },
        { id: 'node-1', x: 315.02, y: 192.67, r: 11, class: 'cls-1', breathingPhase: 0.8 },
        { id: 'node-8', x: 352.85, y: 59.33, r: 7, class: 'cls-8', breathingPhase: 1.0 },
        { id: 'node-3', x: 171.44, y: 153.33, r: 4.15, class: 'cls-3', breathingPhase: 1.2, isEllipse: true },
        { id: 'node-7', x: 277.19, y: 106.83, r: 22, class: 'cls-7', breathingPhase: 1.4 } // Original position - works perfectly on desktop
    ];
    
    // Link data
    const links = [
        { id: 'link-18', source: 'node-2', target: 'node-6', class: 'cls-18' },
        { id: 'link-10', source: 'node-6', target: 'node-7', class: 'cls-10' },
        { id: 'link-17', source: 'node-6', target: 'node-5', class: 'cls-17' },
        { id: 'link-13', source: 'node-5', target: 'node-2', class: 'cls-13' },
        { id: 'link-12', source: 'node-5', target: 'node-7', class: 'cls-12' },
        { id: 'link-14', source: 'node-3', target: 'node-1', class: 'cls-14' },
        { id: 'link-19', source: 'node-1', target: 'node-4', class: 'cls-19' },
        { id: 'link-11', source: 'node-8', target: 'node-7', class: 'cls-11' },
        { id: 'link-20', source: 'node-8', target: 'node-4', class: 'cls-20' },
        { id: 'link-15', source: 'node-3', target: 'node-7', class: 'cls-15' }
    ];
    
    // Create D3 selection for the SVG
    const svg = d3.select('#Layer_1');
    
    // Create link elements first (so they appear behind nodes)
    links.forEach(link => {
        let linkElement = svg.select(`#${link.id}`);
        if (linkElement.empty()) {
            const sourceNode = nodes.find(n => n.id === link.source);
            const targetNode = nodes.find(n => n.id === link.target);
            
            linkElement = svg.append('path')
                .attr('id', link.id)
                .attr('class', `link ${link.class}`)
                .attr('d', `M ${sourceNode.x} ${sourceNode.y} L ${targetNode.x} ${targetNode.y}`);
        }
    });
    
    // Create node elements (so they appear in front of links)
    nodes.forEach(node => {
        let nodeElement = svg.select(`#${node.id}`);
        if (nodeElement.empty()) {
            if (node.isEllipse) {
                nodeElement = svg.append('ellipse')
                    .attr('id', node.id)
                    .attr('class', `node ${node.class}`)
                    .attr('cx', node.x)
                    .attr('cy', node.y)
                    .attr('rx', node.r)
                    .attr('ry', node.r);
            } else {
                nodeElement = svg.append('circle')
                    .attr('id', node.id)
                    .attr('class', `node ${node.class}`)
                    .attr('cx', node.x)
                    .attr('cy', node.y)
                    .attr('r', node.r);
            }
        }
    });
    
    // Move text elements to the front so they appear above the center node
    const textElements = svg.selectAll('text');
    textElements.each(function() {
        this.parentNode.appendChild(this);
    });
    
    // Remove the dot from the "i" by replacing it with a dotless "i" character
    const clarionText = svg.select('.cls-21');
    if (!clarionText.empty()) {
        // Replace the "i" with a dotless "i" (Unicode: ƒ±)
        const iTspan = clarionText.select('tspan:nth-child(3)'); // The "arion" tspan
        if (!iTspan.empty()) {
            // Change "arion" to "arƒ±on" using dotless "i" (ƒ±)
            iTspan.text('arƒ±on');
        }
    }
    
    // Breathing animation function
    function startBreathingAnimation() {
        const breathingDuration = 3000; // 3 seconds per breath cycle
        const breathingAmplitude = 2; // Maximum displacement in pixels
        
        function animate() {
            const time = Date.now() / breathingDuration;
            
            // Update node positions with breathing motion
            nodes.forEach(node => {
                // CRITICAL: Skip breathing animation for center node (node-7) - keep it perfectly static
                if (node.id === 'node-7') {
                    // Ensure center node stays at exact original position
                    const nodeElement = svg.select(`#${node.id}`);
                    if (!nodeElement.empty()) {
                        nodeElement
                            .attr('cx', node.x)
                            .attr('cy', node.y)
                            .style('transform', 'none'); // Force no transforms
                    }
                    return;
                }
                
                const breathingOffset = Math.sin((time + node.breathingPhase) * 2 * Math.PI) * breathingAmplitude;
                const newX = node.x + breathingOffset * 0.5; // Horizontal breathing
                const newY = node.y + breathingOffset * 0.5; // Vertical breathing
                
                // Update node position using D3
                const nodeElement = svg.select(`#${node.id}`);
                if (node.isEllipse) {
                    nodeElement
                        .attr('cx', newX)
                        .attr('cy', newY);
                } else {
                    nodeElement
                        .attr('cx', newX)
                        .attr('cy', newY);
                }
            });
            
            // Update link positions to connect node centers
            links.forEach(link => {
                const sourceNode = nodes.find(n => n.id === link.source);
                const targetNode = nodes.find(n => n.id === link.target);
                
                // Calculate source position (static if it's the center node)
                let sourceX, sourceY;
                if (sourceNode.id === 'node-7') {
                    sourceX = sourceNode.x;
                    sourceY = sourceNode.y;
                } else {
                    const sourceOffset = Math.sin((time + sourceNode.breathingPhase) * 2 * Math.PI) * breathingAmplitude;
                    sourceX = sourceNode.x + sourceOffset * 0.5;
                    sourceY = sourceNode.y + sourceOffset * 0.5;
                }
                
                // Calculate target position (static if it's the center node)
                let targetX, targetY;
                if (targetNode.id === 'node-7') {
                    targetX = targetNode.x;
                    targetY = targetNode.y;
                } else {
                    const targetOffset = Math.sin((time + targetNode.breathingPhase) * 2 * Math.PI) * breathingAmplitude;
                    targetX = targetNode.x + targetOffset * 0.5;
                    targetY = targetNode.y + targetOffset * 0.5;
                }
                
                // Update link path using D3
                svg.select(`#${link.id}`)
                    .attr('d', `M ${sourceX} ${sourceY} L ${targetX} ${targetY}`);
            });
            
            requestAnimationFrame(animate);
        }
        
        animate();
    }
    
    function animateWavePropagation(phrase) {
        const waveConfig = waveTargets[phrase];
        if (!waveConfig) return;
        
        // Clear any existing wave classes
        const allNodes = document.querySelectorAll('.node');
        allNodes.forEach(node => {
            node.classList.remove('wave-source', 'wave-target', 'wave-context-engine', 'wave-knowledge-retention', 'wave-asset-management', 'wave-digital-twin');
        });
        
        // Simple glow effect on central node (no movement)
        const centralNode = document.querySelector('.cls-7');
        if (centralNode) {
            centralNode.classList.add('wave-source');
            
            // Remove wave source class after animation
            setTimeout(() => {
                centralNode.classList.remove('wave-source');
            }, 2000);
        }
        
        // Simple glow effect on target nodes with staggered timing
        waveConfig.targets.forEach((targetSelector, index) => {
            const targetNode = document.querySelector(targetSelector);
            if (targetNode) {
                // Stagger the glow effect
                setTimeout(() => {
                    targetNode.classList.add('wave-target', `wave-${waveConfig.color}`);
                    
                    // Remove glow classes after animation
                    setTimeout(() => {
                        targetNode.classList.remove('wave-target', `wave-${waveConfig.color}`);
                    }, 1500);
                    
                }, 400 + (index * 300)); // 400ms delay + 300ms per node
            }
        });
    }
    
    function updateText() {
        const nextPhrase = phrases[currentIndex];
        
        // Fade out text
        textElement.style.opacity = '0';
        
        setTimeout(() => {
            // Update text content
            textElement.textContent = nextPhrase;
            
            // Update text color based on phrase
            const waveConfig = waveTargets[nextPhrase];
            if (waveConfig) {
                // Remove all color classes
                textElement.classList.remove('context-engine', 'knowledge-retention', 'asset-management', 'digital-twin');
                // Add new color class
                textElement.classList.add(waveConfig.color);
            }
            
            // Fade in text
            textElement.style.opacity = '1';
            
            // Trigger wave propagation animation
            animateWavePropagation(nextPhrase);
            
        }, 300);
        
        // Move to next phrase
        currentIndex = (currentIndex + 1) % phrases.length;
    }
    
    let currentIndex = 0;
    
    // CRITICAL: Function to ensure center node alignment
    function ensureCenterNodeAlignment() {
        const centerNode = svg.select('#node-7');
        if (!centerNode.empty()) {
            // Check if this is a mobile device using viewport-based detection (following responsive scaling guide)
            const isMobile = window.innerWidth <= 768; // All devices 768px and below
            const isTablet = window.innerWidth >= 769 && window.innerWidth <= 1024; // Tablets (includes iPad mini)
            const isMobileDevice = isMobile || isTablet || 
                                 /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                                 ('ontouchstart' in window) ||
                                 ('ontouchstart' in window && window.innerWidth <= 768); // Touch devices on mobile
            
            let centerX = 277.19; // Default position (works on desktop)
            
            // Apply mobile-specific adjustment for all mobile devices
            if (isMobileDevice) {
                centerX = 275.0; // Slight adjustment for all mobile devices
                console.log('Mobile/tablet device detected - applying mobile-specific center node adjustment');
            }
            
            // Force center node to exact position
            centerNode
                .attr('cx', centerX)
                .attr('cy', 106.83)
                .style('transform', 'none')
                .style('will-change', 'auto');
            
            console.log('Center node alignment enforced');
        }
    }
    
    // Enhanced mobile detection and fix
    function forceMobileCenterNodeFix() {
        const centerNode = svg.select('#node-7');
        if (!centerNode.empty()) {
            // More aggressive mobile detection
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                            window.innerWidth <= 768 ||
                            ('ontouchstart' in window) ||
                            window.devicePixelRatio > 1; // High DPI screens (mobile)
            
            if (isMobile) {
                console.log('Force applying mobile center node fix');
                centerNode
                    .attr('cx', 275.0)
                    .attr('cy', 106.83)
                    .style('transform', 'none')
                    .style('will-change', 'auto');
                
                // Also try to force the circle element directly
                const circleElement = document.querySelector('.clarion-logo-container svg circle.cls-7');
                if (circleElement) {
                    circleElement.setAttribute('cx', '275.0');
                    circleElement.setAttribute('cy', '106.83');
                }
            }
        }
    }
    
    // Function to ensure logo fits and center node stays aligned
    function ensureLogoFitsAndCenterNodeAligned() {
        const svgElement = document.querySelector('.clarion-logo-container svg');
        const centerNode = svg.select('#node-7');
        
        if (svgElement && centerNode && !centerNode.empty()) {
            // Check if logo is overflowing
            const svgRect = svgElement.getBoundingClientRect();
            const containerRect = svgElement.parentElement.getBoundingClientRect();
            
            // If logo is wider than container, adjust sizing
            if (svgRect.width > containerRect.width) {
                console.log('Logo overflow detected - adjusting sizing');
                svgElement.style.width = '90vw';
                svgElement.style.maxWidth = 'calc(100vw - 2rem)';
            }
            
            // Ensure center node stays aligned - following responsive scaling guide
            const isMobile = window.innerWidth <= 768; // All devices 768px and below
            const isTablet = window.innerWidth >= 769 && window.innerWidth <= 1024; // Tablets
            const isMobileDevice = isMobile || isTablet || 
                                 /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                                 ('ontouchstart' in window) ||
                                 ('ontouchstart' in window && window.innerWidth <= 768); // Touch devices on mobile
            
            if (isMobileDevice) {
                centerNode
                    .attr('cx', 275.0)
                    .attr('cy', 106.83)
                    .style('transform', 'none');
            }
        }
    }
    
    // Start the breathing animation
    startBreathingAnimation();
    
    // Start the text animation cycle
    setInterval(updateText, 4000);
    
    // Ensure center node alignment on load and after a delay
    ensureCenterNodeAlignment();
    setTimeout(ensureCenterNodeAlignment, 1000); // Double-check after 1 second
    setTimeout(ensureCenterNodeAlignment, 3000); // Triple-check after 3 seconds
    
    // Additional mobile detection and fix - following responsive scaling guide
    function detectAndFixMobile() {
        const isMobile = window.innerWidth <= 768; // All devices 768px and below
        const isTablet = window.innerWidth >= 769 && window.innerWidth <= 1024; // Tablets
        const isMobileDevice = isMobile || isTablet || 
                             /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                             ('ontouchstart' in window) ||
                             window.devicePixelRatio > 1 ||
                             ('ontouchstart' in window && window.innerWidth <= 768); // Touch devices on mobile
        
        if (isMobileDevice) {
            console.log('Mobile/tablet device detected - applying mobile-specific fixes');
            // Apply mobile-specific center node adjustment
            const centerNode = svg.select('#node-7');
            if (!centerNode.empty()) {
                centerNode
                    .attr('cx', 275.0)
                    .attr('cy', 106.83)
                    .style('transform', 'none');
            }
            
            // Also try to force the circle element directly
            const circleElement = document.querySelector('.clarion-logo-container svg circle.cls-7');
            if (circleElement) {
                circleElement.setAttribute('cx', '275.0');
                circleElement.setAttribute('cy', '106.83');
            }
        }
    }
    
    // Run mobile detection after a delay to ensure proper rendering
    setTimeout(detectAndFixMobile, 500);
    setTimeout(forceMobileCenterNodeFix, 1000);
    setTimeout(forceMobileCenterNodeFix, 2000);
    setTimeout(ensureLogoFitsAndCenterNodeAligned, 1500);
    setTimeout(ensureLogoFitsAndCenterNodeAligned, 3000);
    
    // Continuous monitoring for mobile devices - following responsive scaling guide
    function startMobileMonitoring() {
        const isMobile = window.innerWidth <= 768; // All devices 768px and below
        const isTablet = window.innerWidth >= 769 && window.innerWidth <= 1024; // Tablets
        const isMobileDevice = isMobile || isTablet || 
                             /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                             ('ontouchstart' in window) ||
                             window.devicePixelRatio > 1 ||
                             ('ontouchstart' in window && window.innerWidth <= 768); // Touch devices on mobile
        
        if (isMobileDevice) {
            console.log('Starting continuous mobile/tablet monitoring');
            
            // Monitor and fix center node position every 2 seconds
            setInterval(() => {
                const centerNode = svg.select('#node-7');
                const circleElement = document.querySelector('.clarion-logo-container svg circle.cls-7');
                
                if (centerNode && !centerNode.empty()) {
                    centerNode
                        .attr('cx', 275.0)
                        .attr('cy', 106.83)
                        .style('transform', 'none');
                }
                
                if (circleElement) {
                    circleElement.setAttribute('cx', '275.0');
                    circleElement.setAttribute('cy', '106.83');
                }
            }, 2000);
        }
    }
    
    // Start monitoring after initial setup
    setTimeout(startMobileMonitoring, 3000);
    
    // Test functions for debugging
    window.toggleBreathing = function() {
        console.log('Breathing animation is always running with D3.js');
    };
    
    window.testPathUpdate = function() {
        console.log('Path updates are handled automatically by D3.js animation loop');
    };
});

// Mobile menu toggle function
function toggleMobileMenu() {
    const nav = document.querySelector('.header-nav');
    const toggle = document.querySelector('.mobile-menu-toggle');
    
    nav.classList.toggle('active');
    toggle.classList.toggle('active');
}

// Close mobile menu when clicking outside
document.addEventListener('click', function(event) {
    const nav = document.querySelector('.header-nav');
    const toggle = document.querySelector('.mobile-menu-toggle');
    
    if (!nav.contains(event.target) && !toggle.contains(event.target)) {
        nav.classList.remove('active');
        toggle.classList.remove('active');
    }
});
</script>